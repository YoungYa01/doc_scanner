[uwsgi]
# Django 相关配置
project = doc_scanner
base = /home/ubuntu/sk_test/new_port/id4allHttp/doc_scanner

# 项目目录
chdir = %(base)
# WSGI 模块
module = %(project).wsgi:application

# 虚拟环境
# home = %(base)/myprojectenv

# 进程设置
master = true
processes = 4
threads = 2

# Socket 文件位置
socket = %(base)/%(project).sock
# 设置 socket 权限
chmod-socket = 664
# 当服务器退出时自动清理 socket
vacuum = true

# 日志文件
logto = /var/log/uwsgi/%n.log

# 最大请求数（防止内存泄漏）
max-requests = 5000

# 启用线程支持
enable-threads = true

# 设置 uWSGI 用户和组
uid = www-data
gid = www-data